{% extends "public_nav.html" %}
{% block title %}<title>态势预测</title>{% endblock %}
{% block my_css %}
<link rel="stylesheet" href="/static/css/prediction.css">
<style>

</style>
{% endblock %}

{% block main %}
<div id="container">
    <div class="build_prediction">
        <h1 class="title-1" style='margin: 10px auto;color: #292727;font-size: 22px'>
            <span style="display: inline-block;width: 5px;height: 22px;background-color:#6550e4;margin-bottom: -3px;"></span>
            <span style="display: inline-block;width: 5px;height: 22px;background-color:#6c41b5;margin-left: -2px;margin-bottom: -3px;"></span>
            新建预测任务
        </h1>
      
        <div class="prediction_menu">
            <div class="task_name menu_m">
                <span class="menu_m_s">任务名称</span>
                <input type="text" placeholder="(必填，仅包含数字、汉字、英文、下划线)" id="new_task" style="width: 200px;">
            </div>
            <!-- <div class="task_remarks menu_m">
                <span class="menu_m_s">备注</span>
                <input type="text" id="remarks" placeholder="(选填，仅包含数字、汉字、英文、下划线)"/ style="width: 300px;">
            </div> -->
            <div class="task_words menu_m">
                <span class="menu_m_s">关键词</span>
                <input id="key-1" type="text" placeholder="请输入您的And关键词(必填)" title="多个关键词请用‘,’(逗号)隔开" style="width: 200px;">
                <input id="key-2" type="text" placeholder="请输入您的Or关键词(必填）" title="多个关键词请用‘,’(逗号)隔开" style="width: 200px;">
                <b class="icon icon-plus add_new" style="display: inline-block;margin-left: 10px;cursor: pointer;"></b>
            </div>
            <div class="task_time menu_m">
                <span style="position: relative;top: -7px;" class="menu_m_s">起止时间</span>
                <div class="task_time_cor" style="width: 450px!important;padding: 0;display: inline-block">
                    <span style="position: relative;top: -7px;left: 23px;">从</span>
                    <div style="display: inline-block;width: 200px;">
                        <div class="form-group" style="margin: 0">
                            <div class="input-group date" id="datetimepicker1">
                                <input type="text" class="start form-control" style="height: 31px;width: 180px;">
                                <span class="input-group-addon" style="height: 28px;">
                                    <span class="icon icon-calendar" style="color:black;"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                    <span style="position: relative;top: -7px;left: 40px;">到</span>
                    <div style="display: inline-block;width: 200px;">
                        <div class="form-group" style="margin: 0">
                            <div class="input-group date" id="datetimepicker2">
                                <input type="text" class="end form-control" style="height: 31px;margin-left: 45px;width: 180px;">
                                <span class="input-group-addon" style="height: 28px;">
                                    <span class="icon icon-calendar" style="color:black;"></span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="task_interval menu_m">
                <span class="menu_m_s">计算间隔</span>
                <select id="inter_time" style="margin-left: 20px;width:100px;" >
                    <option value="3600">1 小时</option>
                    <option value="10800">3 小时</option>
                </select>
            </div>
            <div class="task_remarks menu_m">
                <span class="menu_m_s">备注</span>
                <input type="text" id="remarks" placeholder="(选填，仅包含数字、汉字、英文、下划线)"/ style="width: 300px;">
            </div>
            <div class="choose menu_m">
                <span class="menu_m_s">可选任务</span>
                <div id="choose_task" style="width: 100%;display: inline-block;"></div>
            </div>

            <div class="new_build menu_m" style="height: 25px">
                <button id="build" style="float: right;margin-right: 100px">新建任务</button>
            </div>
        </div>
    </div>
    <div class="prediction_task">
        <h1 class="title-2" style='margin: 15px auto;color: #292727;font-size: 22px'>
        <span style="display: inline-block;width: 5px;height: 22px;background-color:#6550e4;margin-bottom: -3px;"></span>
        <span style="display: inline-block;width: 5px;height: 22px;background-color:#6c41b5;margin-left:-2px;margin-bottom: -3px;"></span>
        任务列表
        </h1>
        <div id="task_lists" style="width: 100%;">
        </div>
    </div>
</div>
{% endblock %}

<!-- 自己的JS -->
{% block my_js %}
<script type="text/javascript">
$('.add_new').on('click',function () {
    var _input='<input id="key-2" type="text" placeholder="请输入您的Or关键词(必填）" ' +
            'title="多个关键词请用‘,’(逗号)隔开" style="width: 200px;margin: 10px 0 0 327px;">';
    $(this).before(_input);
});
   
    $(function () {
        $('#datetimepicker1').datetimepicker();
        $('#datetimepicker2').datetimepicker();
        $("#datetimepicker1").on("dp.change",function (e) {
            $('#datetimepicker2').data("DateTimePicker").minDate(e.date);
        });
        $("#datetimepicker2").on("dp.change",function (e) {
            $('#datetimepicker1').data("DateTimePicker").maxDate(e.date);
        });
    });
    $('.prediction_results').on('click',function () {
        window.open('/prediction/forecast_result/');
    })
</script>
<script src="/static/js/prediction.js"></script>
{% endblock %}